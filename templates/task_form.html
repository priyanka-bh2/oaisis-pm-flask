{% extends "base.html" %}
{% block content %}
<h2>{{ action }} Task</h2>
<form method="post" class="mt-3">
  <div class="mb-3">
    <label class="form-label">Title</label>
    <input type="text" name="title" class="form-control" required value="{{ task.title if task else '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Status</label>
    <select name="status" class="form-select">
      {% for s in ["Todo","In Progress","Done"] %}
      <option value="{{ s }}" {% if task and task.status==s %}selected{% endif %}>{{ s }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Due Date</label>
    <input type="date" name="due_date" class="form-control" value="{{ task.due_date.strftime('%Y-%m-%d') if task and task.due_date else '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Notes</label>
    <textarea name="notes" class="form-control" rows="3">{{ task.notes if task else '' }}</textarea>
  </div>
  <button class="btn btn-primary" type="submit">{{ action }}</button>
  <a href="{{ url_for('project_detail', project_id=project.id) }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}